---
id: observability
title: PHP SDK developer's guide - Observability
sidebar_label: Observability
sidebar_position: 3
description: The Observability section of the Temporal Developer's guide covers the many ways to view the current state of your Temporal Application—that is, ways to view what Workflow Executions are tracked by the Platform and the state of any given Workflow Execution, either currently or at points of an execution.
slug: /dev-guide/php/observability
toc_max_heading_level: 4
keywords:
- guide-context
- php
- search attribute
- search attributes
- upsert search attributes
- workflow
tags:
- guide-context
- php
- search-attribute
- search-attributes
- upsert-search-attributes
- workflow
---

<!-- THIS FILE IS GENERATED. DO NOT EDIT THIS FILE DIRECTLY -->

The observability section of the Temporal Developer's guide covers the many ways to view the current state of your [Temporal Application](/temporal#temporal-application) <span id="i-d6622362-7873-48d2-b7cd-9dbda0b38e94" class="clickable-i clickable-link-preview">i</span><div id="preview-modal-d6622362-7873-48d2-b7cd-9dbda0b38e94" class="preview-modal"><div class="modal-header"><div id="x-d6622362-7873-48d2-b7cd-9dbda0b38e94" class="clickable-x clickable-link-preview">x</div><b>Link preview:</b>&nbsp;&nbsp<a href="/temporal#temporal-application">/temporal#temporal-application</a></div><div class="preview-modal-title">What is a Temporal Application?</div><div class="preview-modal-description">A Temporal Application is a set of Workflow Executions.</div><div class="preview-modal-tags"><a class="preview-modal-tag" href="/tags/term">term</a> <a class="preview-modal-tag" href="/tags/explanation">explanation</a></div></div>—that is, ways to view which [Workflow Executions](/workflows#workflow-execution) are tracked by the [Temporal Platform](/temporal#temporal-platform) <span id="i-b6d8f2c1-1a24-4228-b183-01412860f1c0" class="clickable-i clickable-link-preview">i</span><div id="preview-modal-b6d8f2c1-1a24-4228-b183-01412860f1c0" class="preview-modal"><div class="modal-header"><div id="x-b6d8f2c1-1a24-4228-b183-01412860f1c0" class="clickable-x clickable-link-preview">x</div><b>Link preview:</b>&nbsp;&nbsp<a href="/temporal#temporal-platform">/temporal#temporal-platform</a></div><div class="preview-modal-title">What is the Temporal Platform?</div><div class="preview-modal-description">The Temporal Platform consists of a Temporal Cluster and Worker Processes.</div><div class="preview-modal-tags"><a class="preview-modal-tag" href="/tags/term">term</a> <a class="preview-modal-tag" href="/tags/explanation">explanation</a></div></div> and the state of any specified Workflow Execution, either currently or at points of an execution.

This section covers features related to viewing the state of the application, including:

- [Metrics](#metrics)
- [Tracing](#tracing)
- [Logging](#logging)
- [Visibility](#visibility)

## How to use Visibility APIs {#visibility}

The term Visibility, within the Temporal Platform, refers to the subsystems and APIs that enable an operator to view Workflow Executions that currently exist within a Cluster.

### How to use Search Attributes {#search-attributes}

The typical method of retrieving a Workflow Execution is by its Workflow Id.

However, sometimes you'll want to retrieve one or more Workflow Executions based on another property. For example, imagine you want to get all Workflow Executions of a certain type that have failed within a time range, so that you can start new ones with the same arguments.

You can do this with [Search Attributes](/visibility#search-attribute) <span id="i-b3ee4ac2-8d4b-4411-af41-b6bc0eadcd8e" class="clickable-i clickable-link-preview">i</span><div id="preview-modal-b3ee4ac2-8d4b-4411-af41-b6bc0eadcd8e" class="preview-modal"><div class="modal-header"><div id="x-b3ee4ac2-8d4b-4411-af41-b6bc0eadcd8e" class="clickable-x clickable-link-preview">x</div><b>Link preview:</b>&nbsp;&nbsp<a href="/visibility#search-attribute">/visibility#search-attribute</a></div><div class="preview-modal-title">What is a Search Attribute?</div><div class="preview-modal-description">A Search Attribute is an indexed name used in List Filters to filter a list of Workflow Executions that have the Search Attribute in their metadata.</div><div class="preview-modal-tags"><a class="preview-modal-tag" href="/tags/term">term</a> <a class="preview-modal-tag" href="/tags/explanation">explanation</a> <a class="preview-modal-tag" href="/tags/filtered-lists">filtered-lists</a> <a class="preview-modal-tag" href="/tags/visibility">visibility</a></div></div>.

- [Default Search Attributes](/visibility#default-search-attributes) <span id="i-265cd74d-336a-4f7b-9459-f6948fea4410" class="clickable-i clickable-link-preview">i</span><div id="preview-modal-265cd74d-336a-4f7b-9459-f6948fea4410" class="preview-modal"><div class="modal-header"><div id="x-265cd74d-336a-4f7b-9459-f6948fea4410" class="clickable-x clickable-link-preview">x</div><b>Link preview:</b>&nbsp;&nbsp<a href="/visibility#default-search-attributes">/visibility#default-search-attributes</a></div><div class="preview-modal-title">What is a Search Attribute?</div><div class="preview-modal-description">A Search Attribute is an indexed name used in List Filters to filter a list of Workflow Executions that have the Search Attribute in their metadata.</div><div class="preview-modal-tags"><a class="preview-modal-tag" href="/tags/term">term</a> <a class="preview-modal-tag" href="/tags/explanation">explanation</a> <a class="preview-modal-tag" href="/tags/filtered-lists">filtered-lists</a> <a class="preview-modal-tag" href="/tags/visibility">visibility</a></div></div> like `WorkflowType`, `StartTime` and `ExecutionStatus` are automatically added to Workflow Executions.
- _Custom Search Attributes_ can contain their own domain-specific data (like `customerId` or `numItems`).
  - A few [generic Custom Search Attributes](/visibility#custom-search-attributes) <span id="i-14e29b07-b216-4f9c-a0b6-2975693fd370" class="clickable-i clickable-link-preview">i</span><div id="preview-modal-14e29b07-b216-4f9c-a0b6-2975693fd370" class="preview-modal"><div class="modal-header"><div id="x-14e29b07-b216-4f9c-a0b6-2975693fd370" class="clickable-x clickable-link-preview">x</div><b>Link preview:</b>&nbsp;&nbsp<a href="/visibility#custom-search-attributes">/visibility#custom-search-attributes</a></div><div class="preview-modal-title">What is a Search Attribute?</div><div class="preview-modal-description">A Search Attribute is an indexed name used in List Filters to filter a list of Workflow Executions that have the Search Attribute in their metadata.</div><div class="preview-modal-tags"><a class="preview-modal-tag" href="/tags/term">term</a> <a class="preview-modal-tag" href="/tags/explanation">explanation</a> <a class="preview-modal-tag" href="/tags/filtered-lists">filtered-lists</a> <a class="preview-modal-tag" href="/tags/visibility">visibility</a></div></div> like `CustomKeywordField` and `CustomIntField` are created by default in Temporal's [Docker Compose](/kb/all-the-ways-to-run-a-cluster#docker-compose).

The steps to using custom Search Attributes are:

- Create a new Search Attribute in your Cluster using `tctl search-attribute create` or the Cloud UI.
- Set the value of the Search Attribute for a Workflow Execution:
  - On the Client by including it as an option when starting the Execution.
  - In the Workflow by calling `UpsertSearchAttributes`.
- Read the value of the Search Attribute:
  - On the Client by calling `DescribeWorkflow`.
  - In the Workflow by looking at `WorkflowInfo`.
- Query Workflow Executions by the Search Attribute using a [List Filter](/visibility#list-filter) <span id="i-68596316-f139-4f86-a6f5-53a5ee63e2e3" class="clickable-i clickable-link-preview">i</span><div id="preview-modal-68596316-f139-4f86-a6f5-53a5ee63e2e3" class="preview-modal"><div class="modal-header"><div id="x-68596316-f139-4f86-a6f5-53a5ee63e2e3" class="clickable-x clickable-link-preview">x</div><b>Link preview:</b>&nbsp;&nbsp<a href="/visibility#list-filter">/visibility#list-filter</a></div><div class="preview-modal-title">What is a List Filter?</div><div class="preview-modal-description">A List Filter is the SQL-like string that is provided as the parameter to an advanced Visibility List API.</div><div class="preview-modal-tags"><a class="preview-modal-tag" href="/tags/term">term</a> <a class="preview-modal-tag" href="/tags/explanation">explanation</a> <a class="preview-modal-tag" href="/tags/filtered-lists">filtered-lists</a> <a class="preview-modal-tag" href="/tags/visibility">visibility</a></div></div>:
  - [In `tctl`](/tctl-v1/workflow#list) <span id="i-e2ea1157-4ee3-4c50-bbd3-a33fdea9628e" class="clickable-i clickable-link-preview">i</span><div id="preview-modal-e2ea1157-4ee3-4c50-bbd3-a33fdea9628e" class="preview-modal"><div class="modal-header"><div id="x-e2ea1157-4ee3-4c50-bbd3-a33fdea9628e" class="clickable-x clickable-link-preview">x</div><b>Link preview:</b>&nbsp;&nbsp<a href="/tctl-v1/workflow#list">/tctl-v1/workflow#list</a></div><div class="preview-modal-title">tctl workflow list</div><div class="preview-modal-description">How to list open or closed Workflow Executions using tctl.</div><div class="preview-modal-tags"><a class="preview-modal-tag" href="/tags/tctl">tctl</a> <a class="preview-modal-tag" href="/tags/cli reference">cli reference</a></div></div>.
  - In code by calling `ListWorkflowExecutions`.

Here is how to query Workflow Executions:

### How to set custom Search Attributes {#custom-search-attributes}

After you've created custom Search Attributes in your Cluster (using `tctl search-attribute create`or the Cloud UI), you can set the values of the custom Search Attributes when starting a Workflow.

Use the `WorkflowOptions::withSearchAttributes()` method to provide Search Attributes when you start a Workflow.

```php
$workflow = $this->workflowClient->newWorkflowStub(
    GreetingWorkflowInterface::class,
    WorkflowOptions::new()
        ->withWorkflowExecutionTimeout(CarbonInterval::minute())
        ->withSearchAttributes(
            [
                'CustomKeywordField' => 'value',
                'CustomIntField' => 123,
            ]
        )
);
```

### How to upsert Search Attributes {#upsert-search-attributes}

You can upsert Search Attributes to add or update Search Attributes from within Workflow code.

To upsert Search Attributes within a Workflow, use `Workflow::upsertSearchAttributes()`.

```php
class GreetingWorkflow implements GreetingWorkflowInterface
{
    public function getGreeting(string $name)
    {
        Workflow::upsertSearchAttributes(
            [
                'CustomKeywordField' => 'attr1-value',
                'CustomIntField' => 123,
            ]
        );

        // ...
    }
}
```

### How to remove a Search Attribute from a Workflow {#remove-search-attribute}

To remove a Search Attribute that was previously set, set it to an empty array: `[]`.

To remove a Search Attribute that was previously set, set it to an empty array `[]`.

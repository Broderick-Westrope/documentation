---
id: activities
title: Activities
sidebar_label: Activities
sidebar_position: 3
description: This guide provides a comprehensive overview of Temporal Activities.
slug: /activities
toc_max_heading_level: 4
keywords:
- explanation
- term
- timeouts
tags:
- explanation
- term
- timeouts
---

<!-- THIS FILE IS GENERATED. DO NOT EDIT THIS FILE DIRECTLY -->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

This guide provides a comprehensive overview of Temporal Activities.

In day-to-day conversation, the term _Activity_ denotes an [Activity Definition](#activity-definition) <span id="i-20893e86-b8e6-4b16-b753-68c5e57156ac" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-20893e86-b8e6-4b16-b753-68c5e57156ac" class="preview-modal"><div class="modal-header"><div id="x-20893e86-b8e6-4b16-b753-68c5e57156ac" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Definition?</div><div class="preview-modal-description">An Activity Definition is the code that defines the constraints of an Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>, [Activity Type](#activity-type) <span id="i-c4a76c25-ecac-4b15-8f61-7e66317e7c03" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-c4a76c25-ecac-4b15-8f61-7e66317e7c03" class="preview-modal"><div class="modal-header"><div id="x-c4a76c25-ecac-4b15-8f61-7e66317e7c03" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Type?</div><div class="preview-modal-description">An Activity Type is the mapping of a name to an Activity Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>, or [Activity Execution](#activity-execution) <span id="i-43702558-4f3c-4547-ae66-f8b2889885d3" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-43702558-4f3c-4547-ae66-f8b2889885d3" class="preview-modal"><div class="modal-header"><div id="x-43702558-4f3c-4547-ae66-f8b2889885d3" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Execution?</div><div class="preview-modal-description">An Activity Execution is the full chain of Activity Task Executions.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.
Temporal documentation aims to be explicit and differentiate between them.

An Activity is a normal function or method that executes a single, well-defined action (either short or long running), such as calling another service, transcoding a media file, or sending an email message.
Activity code can be non-deterministic.
We recommend that it be [idempotent](/activities#idempotency).

Workflow code orchestrates the execution of Activities, persisting the results.
If an Activity Function Execution fails, any future execution starts from initial state (except [Heartbeats](#activity-heartbeat) <span id="i-6889958c-fea0-4c97-8404-08df066bd3c0" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-6889958c-fea0-4c97-8404-08df066bd3c0" class="preview-modal"><div class="modal-header"><div id="x-6889958c-fea0-4c97-8404-08df066bd3c0" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Heartbeat?</div><div class="preview-modal-description">An Activity Heartbeat is a ping from the Worker that is executing the Activity to the Temporal Cluster. Each ping informs the Temporal Cluster that the Activity Execution is making progress and the Worker has not crashed.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>).

Activity Functions are executed by Worker Processes.
When the Activity Function returns, the Worker sends the results back to the Temporal Cluster as part of the [ActivityTaskCompleted](/references/events#activitytaskcompleted) <span id="i-be9e8efc-9e5e-43f0-8860-296e3aaf4e55" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-be9e8efc-9e5e-43f0-8860-296e3aaf4e55" class="preview-modal"><div class="modal-header"><div id="x-be9e8efc-9e5e-43f0-8860-296e3aaf4e55" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">Events reference</div><div class="preview-modal-description">Events are created by the Temporal Cluster in response to external occurrences and Commands generated by a Workflow Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">reference</span></div></div> Event.
The Event is added to the Workflow Execution's Event History.
For other Activity-related Events, see [Activity Events](/workflows#activity-events).

## What is an Activity Definition? {#activity-definition}

An Activity Definition is the code that defines the constraints of an [Activity Task Execution](/workers#activity-task-execution) <span id="i-e9d10b77-696a-42b3-9125-ef691983dbbb" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-e9d10b77-696a-42b3-9125-ef691983dbbb" class="preview-modal"><div class="modal-header"><div id="x-e9d10b77-696a-42b3-9125-ef691983dbbb" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Task Execution?</div><div class="preview-modal-description">An Activity Task Execution occurs when a Worker uses the context provided from the Activity Task and executes the Activity Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.

- [How to develop an Activity Definition using the Go SDK](/dev-guide/go/foundations#activity-definition) <span id="i-c4e5a953-9f02-4cf5-9b06-3752e2663a37" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-c4e5a953-9f02-4cf5-9b06-3752e2663a37" class="preview-modal"><div class="modal-header"><div id="x-c4e5a953-9f02-4cf5-9b06-3752e2663a37" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to develop an Activity Definition in Go</div><div class="preview-modal-description">In the Temporal Go SDK programming model, an Activity Definition is an exportable function or a `struct` method.</div><div class="preview-modal-tags"><span class="preview-modal-tag">go sdk</span> <span class="preview-modal-tag">code sample</span> <span class="preview-modal-tag">activity</span></div></div>
- [How to develop an Activity Definition using the Java SDK](/dev-guide/java/foundations#develop-activities) <span id="i-7ec36028-b0f4-45b6-ac0c-1cfb3250bffe" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-7ec36028-b0f4-45b6-ac0c-1cfb3250bffe" class="preview-modal"><div class="modal-header"><div id="x-7ec36028-b0f4-45b6-ac0c-1cfb3250bffe" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to develop a basic Activity</div><div class="preview-modal-description">One of the primary things that Workflows do is orchestrate the execution of Activities.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to develop an Activity Definition using the PHP SDK](/dev-guide/php/foundations#develop-activities) <span id="i-ddd2cb61-4c47-403d-858a-2aa35037735a" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-ddd2cb61-4c47-403d-858a-2aa35037735a" class="preview-modal"><div class="modal-header"><div id="x-ddd2cb61-4c47-403d-858a-2aa35037735a" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to develop a basic Activity</div><div class="preview-modal-description">One of the primary things that Workflows do is orchestrate the execution of Activities.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to develop an Activity Definition using the Python SDK](/dev-guide/python/foundations#develop-activities) <span id="i-73d28456-015a-41f5-9220-cfc7ae60b4bc" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-73d28456-015a-41f5-9220-cfc7ae60b4bc" class="preview-modal"><div class="modal-header"><div id="x-73d28456-015a-41f5-9220-cfc7ae60b4bc" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to develop a basic Activity</div><div class="preview-modal-description">One of the primary things that Workflows do is orchestrate the execution of Activities.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to develop an Activity Definition using the TypeScript SDK](/dev-guide/typescript/foundations#develop-activities) <span id="i-9fa0b3e3-f25b-4680-ae5c-c38ecfa0d64c" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-9fa0b3e3-f25b-4680-ae5c-c38ecfa0d64c" class="preview-modal"><div class="modal-header"><div id="x-9fa0b3e3-f25b-4680-ae5c-c38ecfa0d64c" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to develop a basic Activity</div><div class="preview-modal-description">One of the primary things that Workflows do is orchestrate the execution of Activities.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>

The term 'Activity Definition' is used to refer to the full set of primitives in any given language SDK that provides an access point to an Activity Function Definitionâ€”â€”the method or function that is invoked for an [Activity Task Execution](/workers#activity-task-execution) <span id="i-b239d85b-bb86-488c-87f4-fde0a3946e51" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-b239d85b-bb86-488c-87f4-fde0a3946e51" class="preview-modal"><div class="modal-header"><div id="x-b239d85b-bb86-488c-87f4-fde0a3946e51" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Task Execution?</div><div class="preview-modal-description">An Activity Task Execution occurs when a Worker uses the context provided from the Activity Task and executes the Activity Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.
Therefore, the terms Activity Function and Activity Method refer to the source of an instance of an execution.

Activity Definitions are named and referenced in code by their [Activity Type](#activity-type) <span id="i-830f1378-c03d-4796-9950-3fb95b14da1b" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-830f1378-c03d-4796-9950-3fb95b14da1b" class="preview-modal"><div class="modal-header"><div id="x-830f1378-c03d-4796-9950-3fb95b14da1b" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Type?</div><div class="preview-modal-description">An Activity Type is the mapping of a name to an Activity Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.

<div class="tdiw"><div class="tditw"><p class="tdit">Activity Definition</p></div><div class="tdiiw"><img class="img_ev3q" src="/diagrams/activity-definition.svg" alt="Activity Definition" height="680" width="1000" /></div></div>

#### Idempotency

Temporal recommends that Activities be idempotent.

Idempotent means that performing an operation multiple times has the same result as performing it once.
In the context of Temporal, Activities should be designed to be safely executed multiple times without causing unexpected or undesired side effects.

An Activity is idempotent if multiple [Activity Task Executions](/workers#activity-task-execution) <span id="i-6d2e7d74-065f-4ab1-aafa-07935ceab396" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-6d2e7d74-065f-4ab1-aafa-07935ceab396" class="preview-modal"><div class="modal-header"><div id="x-6d2e7d74-065f-4ab1-aafa-07935ceab396" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Task Execution?</div><div class="preview-modal-description">An Activity Task Execution occurs when a Worker uses the context provided from the Activity Task and executes the Activity Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> do not change the state of the system beyond the first Activity Task Execution.

We recommend using idempotency keys for critical side effects.

The lack of idempotency might affect the correctness of your application but does not affect the Temporal Platform.
In other words, lack of idempotency doesn't lead to a platform error.

In some cases, whether something is idempotent doesn't affect the correctness of an application.
For example, if you have a monotonically incrementing counter, you might not care that retries increment the counter because you donâ€™t care about the actual value, only that the current value is greater than a previous value.

#### Constraints

Activity Definitions are executed as normal functions.

In the event of failure, the function begins at its initial state when retried (except when Activity Heartbeats are established).

Therefore, an Activity Definition has no restrictions on the code it contains.

#### Parameters

An Activity Definition can support as many parameters as needed.

All values passed through these parameters are recorded in the [Event History](/workflows#event-history) <span id="i-07660510-61f4-4ab1-bb03-61f373b6735d" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-07660510-61f4-4ab1-bb03-61f373b6735d" class="preview-modal"><div class="modal-header"><div id="x-07660510-61f4-4ab1-bb03-61f373b6735d" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Event History?</div><div class="preview-modal-description">An append-only log of Events that represents the full state a Workflow Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> of the Workflow Execution.
Return values are also captured in the Event History for the calling Workflow Execution.

Activity Definitions must contain the following parameters:

- Context: an optional parameter that provides Activity context within multiple APIs.
- Heartbeat: a notification from the Worker to the Temporal Cluster that the Activity Execution is progressing. Cancelations are allowed only if the Activity Definition permits Heartbeating.
- Timeouts: intervals that control the execution and retrying of Activity Task Executions.

Other parameters, such as [Retry Policies](/retry-policies#) <span id="i-6b0e9e54-24a7-4104-bc5c-26122b315193" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-6b0e9e54-24a7-4104-bc5c-26122b315193" class="preview-modal"><div class="modal-header"><div id="x-6b0e9e54-24a7-4104-bc5c-26122b315193" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Retry Policy?</div><div class="preview-modal-description">A Retry Policy is a collection of attributes that instructs the Temporal Server how to retry a failure of a Workflow Execution or an Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> and return values, can be seen in the implementation guides, listed in the next section.

### What is an Activity Type? {#activity-type}

An Activity Type is the mapping of a name to an Activity Definition.

Activity Types are scoped through Task Queues.

## What is an Activity Execution? {#activity-execution}

An Activity Execution is the full chain of [Activity Task Executions](/workers#activity-task-execution) <span id="i-96a2e1df-e044-4aa9-9af2-0179479cdc09" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-96a2e1df-e044-4aa9-9af2-0179479cdc09" class="preview-modal"><div class="modal-header"><div id="x-96a2e1df-e044-4aa9-9af2-0179479cdc09" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Task Execution?</div><div class="preview-modal-description">An Activity Task Execution occurs when a Worker uses the context provided from the Activity Task and executes the Activity Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.

- [How to start an Activity Execution using the Go SDK](/dev-guide/go/foundations#activity-execution) <span id="i-1ff79a68-b80b-48ce-b272-c1edc0b1f2bb" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-1ff79a68-b80b-48ce-b272-c1edc0b1f2bb" class="preview-modal"><div class="modal-header"><div id="x-1ff79a68-b80b-48ce-b272-c1edc0b1f2bb" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to start an Activity Execution</div><div class="preview-modal-description">Calls to spawn Activity Executions are written within a Workflow Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">developer-guide-doc-type</span> <span class="preview-modal-tag">how-to-doc-type</span> <span class="preview-modal-tag">activity execution</span> <span class="preview-modal-tag">activity</span> <span class="preview-modal-tag">go sdk</span></div></div>
- [How to start an Activity Execution using the Java SDK](/dev-guide/java/foundations#activity-execution) <span id="i-dae3a4be-e933-4a1e-b138-bba2bd012d4a" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-dae3a4be-e933-4a1e-b138-bba2bd012d4a" class="preview-modal"><div class="modal-header"><div id="x-dae3a4be-e933-4a1e-b138-bba2bd012d4a" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to start an Activity Execution</div><div class="preview-modal-description">Calls to spawn Activity Executions are written within a Workflow Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to start an Activity Execution using the PHP SDK](/dev-guide/php/foundations#activity-execution) <span id="i-95b6e92f-f413-489b-8ebd-a5ea5638a021" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-95b6e92f-f413-489b-8ebd-a5ea5638a021" class="preview-modal"><div class="modal-header"><div id="x-95b6e92f-f413-489b-8ebd-a5ea5638a021" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to start an Activity Execution</div><div class="preview-modal-description">Calls to spawn Activity Executions are written within a Workflow Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to start an Activity Execution using the Python SDK](/dev-guide/python/foundations#activity-execution) <span id="i-9502b06b-6375-4c58-95f6-75990c919291" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-9502b06b-6375-4c58-95f6-75990c919291" class="preview-modal"><div class="modal-header"><div id="x-9502b06b-6375-4c58-95f6-75990c919291" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to start an Activity Execution</div><div class="preview-modal-description">Calls to spawn Activity Executions are written within a Workflow Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to start an Activity Execution using the TypeScript SDK](/dev-guide/typescript/foundations#activity-execution) <span id="i-66037480-c8df-4101-ab35-0d847f2380d2" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-66037480-c8df-4101-ab35-0d847f2380d2" class="preview-modal"><div class="modal-header"><div id="x-66037480-c8df-4101-ab35-0d847f2380d2" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to start an Activity Execution</div><div class="preview-modal-description">Calls to spawn Activity Executions are written within a Workflow Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>

<div class="tdiw"><div class="tditw"><p class="tdit">Activity Execution</p></div><div class="tdiiw"><img class="img_ev3q" src="/diagrams/activity-execution.svg" alt="Activity Execution" height="1780" width="1140" /></div></div>

By default, an Activity Execution has no time limit.
You can customize [Activity Execution timeouts](#start-to-close-timeout) <span id="i-832d2a10-f39b-40ac-bb99-d91eb1012185" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-832d2a10-f39b-40ac-bb99-d91eb1012185" class="preview-modal"><div class="modal-header"><div id="x-832d2a10-f39b-40ac-bb99-d91eb1012185" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Start-To-Close Timeout?</div><div class="preview-modal-description">A Start-To-Close Timeout is the maximum time allowed for a single Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span> <span class="preview-modal-tag">timeouts</span></div></div> and [retry policies](/retry-policies#) <span id="i-7676e90f-1f63-471d-ac56-4382e24550be" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-7676e90f-1f63-471d-ac56-4382e24550be" class="preview-modal"><div class="modal-header"><div id="x-7676e90f-1f63-471d-ac56-4382e24550be" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Retry Policy?</div><div class="preview-modal-description">A Retry Policy is a collection of attributes that instructs the Temporal Server how to retry a failure of a Workflow Execution or an Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.

If an Activity Execution fails (because it exhausted all retries, threw a [non-retryable error](/retry-policies#non-retryable-errors) <span id="i-9b7f3fcd-f6ae-4d01-ad59-544089ea69e2" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-9b7f3fcd-f6ae-4d01-ad59-544089ea69e2" class="preview-modal"><div class="modal-header"><div id="x-9b7f3fcd-f6ae-4d01-ad59-544089ea69e2" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Retry Policy?</div><div class="preview-modal-description">A Retry Policy is a collection of attributes that instructs the Temporal Server how to retry a failure of a Workflow Execution or an Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>, or was canceled), the error is returned to the [Workflow](/workflows), which decides how to handle it.

### Cancellation

Activity Cancellation:

- lets the Activity know it doesn't need to keep doing work, and
- gives the Activity time to clean up any resources it has created.

Activities can only receive Cancellation if they emit Heartbeats or in Core-based SDKs (TypeScript/Python) are Local Activities (which don't heartbeat but receive Cancellation anyway).

An Activity may receive Cancellation if:

- The Activity was requested to be Cancelled. This can often cascade from Workflow Cancellation, but not alwaysâ€”SDKs have ways to stop Cancellation from cascading. <!-- TODO link to workflow cancellation -->
- The Activity was considered failed by the Server because any of the Activity timeouts have triggered (for example, the Server didn't receive a heartbeat within the Activity's Heartbeat timeout). The [Cancelled Failure](/kb/failures#cancelled-failure) that the Activity receives will have `message: 'TIMED_OUT'`.
- The Workflow Run reached a [Closed state](/workflows#status), in which case the Cancelled Failure will have `message: 'NOT_FOUND'`.
- In some SDKs:
  - The Worker is shutting down.
  - An Activity sends a Heartbeat but the Heartbeat details can't be converted by the Worker's configured [Data Converter](/dataconversion#) <span id="i-2c6f7e91-5ee7-4fd4-a90c-7d079c3881e5" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-2c6f7e91-5ee7-4fd4-a90c-7d079c3881e5" class="preview-modal"><div class="modal-header"><div id="x-2c6f7e91-5ee7-4fd4-a90c-7d079c3881e5" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Data Converter?</div><div class="preview-modal-description">A Data Converter is a Temporal SDK component that serializes and encodes data entering and exiting a Temporal Cluster.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>. This fails the Activity Task Execution with an Application Failure.

There are different ways to receive Cancellation depending on the SDK. <!-- TODO link to dev guide -->
An Activity may accept or ignore Cancellation:

- To allow Cancellation to happen, let the Cancellation Failure propagate.
- To ignore Cancellation, catch it and continue executing.

Some SDKs have ways to shield tasks from being stopped while still letting the Cancellation propagate.

The Workflow can also decide if it wants to wait for the Activity Cancellation to be accepted or to proceed without waiting.

Cancellation can only be requested a single time.
If you try to cancel your Activity Execution more than once, it will not receive more than one Cancellation request.

### What is an Activity Id? {#activity-id}

The identifier for an [Activity Execution](#activity-execution) <span id="i-6406e46b-fce3-47a7-accd-0e32d50600ba" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-6406e46b-fce3-47a7-accd-0e32d50600ba" class="preview-modal"><div class="modal-header"><div id="x-6406e46b-fce3-47a7-accd-0e32d50600ba" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Execution?</div><div class="preview-modal-description">An Activity Execution is the full chain of Activity Task Executions.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.
The identifier can be generated by the system, or it can be provided by the Workflow code that spawns the Activity Execution.
The identifier is unique among the open Activity Executions of a [Workflow Run](/workflows#run-id) <span id="i-8e5897a6-c282-4b8f-b90f-ce1124c9f529" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-8e5897a6-c282-4b8f-b90f-ce1124c9f529" class="preview-modal"><div class="modal-header"><div id="x-8e5897a6-c282-4b8f-b90f-ce1124c9f529" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Run Id?</div><div class="preview-modal-description">A Run Id is a globally unique, platform-level identifier for a Workflow Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.
(A single Workflow Run may reuse an Activity Id if an earlier Activity Execution with the same Id has closed.)

An Activity Id can be used to [complete the Activity asynchronously](#asynchronous-activity-completion) <span id="i-76468045-9f4c-41ef-8a3b-5485405208ef" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-76468045-9f4c-41ef-8a3b-5485405208ef" class="preview-modal"><div class="modal-header"><div id="x-76468045-9f4c-41ef-8a3b-5485405208ef" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is Asynchronous Activity Completion?</div><div class="preview-modal-description">Asynchronous Activity Completion occurs when an external system provides the final result of a computation, started by an Activity, to the Temporal System.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.

### What is a Schedule-To-Start Timeout? {#schedule-to-start-timeout}

A Schedule-To-Start Timeout is the maximum amount of time that is allowed from when an [Activity Task](/workers#activity-task) <span id="i-b92cac96-14f4-457a-9b1a-9e7a9da97dc8" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-b92cac96-14f4-457a-9b1a-9e7a9da97dc8" class="preview-modal"><div class="modal-header"><div id="x-b92cac96-14f4-457a-9b1a-9e7a9da97dc8" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Task?</div><div class="preview-modal-description">An Activity Task contains the context needed to make an Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> is scheduled (that is, placed in a Task Queue) to when a [Worker](/workers#worker) <span id="i-54c73677-296c-4201-a59e-c7ef0d47579b" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-54c73677-296c-4201-a59e-c7ef0d47579b" class="preview-modal"><div class="modal-header"><div id="x-54c73677-296c-4201-a59e-c7ef0d47579b" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Worker?</div><div class="preview-modal-description">In day-to-day conversations, the term Worker is used to denote both a Worker Program and a Worker Process. Temporal documentation aims to be explicit and differentiate between them.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> starts (that is, picks up from the Task Queue) that Activity Task.
In other words, it's a limit for how long an Activity Task can be enqueued.

- [How to set a Schedule-To-Start Timeout using the Go SDK](/dev-guide/go/features#activity-timeouts) <span id="i-629b73ae-ee7b-46b3-942a-e236a2c45307" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-629b73ae-ee7b-46b3-942a-e236a2c45307" class="preview-modal"><div class="modal-header"><div id="x-629b73ae-ee7b-46b3-942a-e236a2c45307" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">developer-guide-doc-type</span> <span class="preview-modal-tag">retry-and-timeout-policies</span> <span class="preview-modal-tag">activity-execution</span> <span class="preview-modal-tag">activity</span> <span class="preview-modal-tag">timeouts</span></div></div>
- [How to set a Schedule-To-Start Timeout using the Java SDK](/dev-guide/java/features#activity-timeouts) <span id="i-8e891ced-90b8-486e-8bf1-e14a445589c3" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-8e891ced-90b8-486e-8bf1-e14a445589c3" class="preview-modal"><div class="modal-header"><div id="x-8e891ced-90b8-486e-8bf1-e14a445589c3" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Schedule-To-Start Timeout using the PHP SDK](/dev-guide/php/features#activity-timeouts) <span id="i-3f3a0c0a-b23c-40d6-a33c-01aaf04b2834" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-3f3a0c0a-b23c-40d6-a33c-01aaf04b2834" class="preview-modal"><div class="modal-header"><div id="x-3f3a0c0a-b23c-40d6-a33c-01aaf04b2834" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Schedule-To-Start Timeout using the Python SDK](/dev-guide/python/features#activity-timeouts) <span id="i-be0acedd-288c-49eb-b3ec-54347910b3c7" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-be0acedd-288c-49eb-b3ec-54347910b3c7" class="preview-modal"><div class="modal-header"><div id="x-be0acedd-288c-49eb-b3ec-54347910b3c7" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Schedule-To-Start Timeout using the TypeScript SDK](/dev-guide/typescript/features#activity-timeouts) <span id="i-b17f2c9b-d77c-4133-942a-093c8a40227e" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-b17f2c9b-d77c-4133-942a-093c8a40227e" class="preview-modal"><div class="modal-header"><div id="x-b17f2c9b-d77c-4133-942a-093c8a40227e" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>

The moment that the Task is picked by the Worker from the Task Queue is considered to be the start of the Activity Task for the purposes of the Schedule-To-Start Timeout and associated metrics.
This definition of "Start" avoids issues that a clock difference between the Temporal Cluster and a Worker might create.

<div class="tdiw"><div class="tditw"><p class="tdit">Schedule-To-Start Timeout period</p></div><div class="tdiiw"><img class="img_ev3q" src="/diagrams/schedule-to-start-timeout.svg" alt="Schedule-To-Start Timeout period" height="666" width="1120" /></div></div>

"Schedule" in Schedule-To-Start and Schedule-To-Close have different frequency guarantees.

The Schedule-To-Start Timeout is enforced for each Activity Task, whereas the Schedule-To-Close Timeout is enforced once per Activity Execution.
Thus, "Schedule" in Schedule-To-Start refers to the scheduling moment of _every_ Activity Task in the sequence of Activity Tasks that make up the Activity Execution, while
"Schedule" in Schedule-To-Close refers to the _first_ Activity Task in that sequence.

A [Retry Policy](/retry-policies#) <span id="i-ec9cb559-a2e9-451c-b3dd-43078b21bf63" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-ec9cb559-a2e9-451c-b3dd-43078b21bf63" class="preview-modal"><div class="modal-header"><div id="x-ec9cb559-a2e9-451c-b3dd-43078b21bf63" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Retry Policy?</div><div class="preview-modal-description">A Retry Policy is a collection of attributes that instructs the Temporal Server how to retry a failure of a Workflow Execution or an Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> attached to an Activity Execution retries an Activity Task.

<div class="tdiw"><div class="tditw"><p class="tdit">Start-To-Close Timeout period with retries</p></div><div class="tdiiw"><img class="img_ev3q" src="/diagrams/schedule-to-start-timeout-with-retry.svg" alt="Start-To-Close Timeout period with retries" height="1246" width="1601" /></div></div>

This timeout has two primary use cases:

1. Detect whether an individual Worker has crashed.
2. Detect whether the fleet of Workers polling the Task Queue is not able to keep up with the rate of Activity Tasks.

**The default Schedule-To-Start Timeout is âˆž (infinity).**

If this timeout is used, we recommend setting this timeout to the maximum time a Workflow Execution is willing to wait for an Activity Execution in the presence of all possible Worker outages, and have a concrete plan in place to reroute Activity Tasks to a different Task Queue.
This timeout **does not** trigger any retries regardless of the Retry Policy, as a retry would place the Activity Task back into the same Task Queue.
We do not recommend using this timeout unless you know what you are doing.

In most cases, we recommend monitoring the `temporal_activity_schedule_to_start_latency` metric to know when Workers slow down picking up Activity Tasks, instead of setting this timeout.

### What is a Start-To-Close Timeout? {#start-to-close-timeout}

A Start-To-Close Timeout is the maximum time allowed for a single [Activity Task Execution](/workers#activity-task-execution) <span id="i-51189447-ed5a-4dde-a6f9-16150699ca5b" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-51189447-ed5a-4dde-a6f9-16150699ca5b" class="preview-modal"><div class="modal-header"><div id="x-51189447-ed5a-4dde-a6f9-16150699ca5b" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Task Execution?</div><div class="preview-modal-description">An Activity Task Execution occurs when a Worker uses the context provided from the Activity Task and executes the Activity Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.

- [How to set a Start-To-Close Timeout using the Go SDK](/dev-guide/go/features#activity-timeouts) <span id="i-23f07e50-bfcc-4c44-844e-adee108f798f" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-23f07e50-bfcc-4c44-844e-adee108f798f" class="preview-modal"><div class="modal-header"><div id="x-23f07e50-bfcc-4c44-844e-adee108f798f" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">developer-guide-doc-type</span> <span class="preview-modal-tag">retry-and-timeout-policies</span> <span class="preview-modal-tag">activity-execution</span> <span class="preview-modal-tag">activity</span> <span class="preview-modal-tag">timeouts</span></div></div>
- [How to set a Start-To-Close Timeout using the Java SDK](/dev-guide/java/features#activity-timeouts) <span id="i-847b9d3f-c1ca-4990-9ffb-78ffb4a1576c" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-847b9d3f-c1ca-4990-9ffb-78ffb4a1576c" class="preview-modal"><div class="modal-header"><div id="x-847b9d3f-c1ca-4990-9ffb-78ffb4a1576c" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Start-To-Close Timeout using the PHP SDK](/dev-guide/php/features#activity-timeouts) <span id="i-199d1ebd-fe64-410e-b4db-31bf06f40963" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-199d1ebd-fe64-410e-b4db-31bf06f40963" class="preview-modal"><div class="modal-header"><div id="x-199d1ebd-fe64-410e-b4db-31bf06f40963" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Start-To-Close Timeout using the Python SDK](/dev-guide/python/features#activity-timeouts) <span id="i-392f3cf9-969d-4bb6-9e9c-d59640697023" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-392f3cf9-969d-4bb6-9e9c-d59640697023" class="preview-modal"><div class="modal-header"><div id="x-392f3cf9-969d-4bb6-9e9c-d59640697023" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Start-To-Close Timeout using the TypeScript SDK](/dev-guide/typescript/features#activity-timeouts) <span id="i-5b1b470e-d935-485f-81cf-e6043cb75fd0" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-5b1b470e-d935-485f-81cf-e6043cb75fd0" class="preview-modal"><div class="modal-header"><div id="x-5b1b470e-d935-485f-81cf-e6043cb75fd0" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>

**The default Start-To-Close Timeout is the same as the default [Schedule-To-Close Timeout](#schedule-to-close-timeout) <span id="i-5b88422e-d42f-4713-9b34-0f8a942c9be6" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-5b88422e-d42f-4713-9b34-0f8a942c9be6" class="preview-modal"><div class="modal-header"><div id="x-5b88422e-d42f-4713-9b34-0f8a942c9be6" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Schedule-To-Close Timeout?</div><div class="preview-modal-description">A Schedule-To-Close Timeout is the maximum amount of time allowed for the overall Activity Execution, from when the first Activity Task is scheduled to when the last Activity Task, in the chain of Activity Tasks that make up the Activity Execution, reaches a Closed status.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span> <span class="preview-modal-tag">timeouts</span></div></div>.**

An Activity Execution must have either this timeout (Start-To-Close) or the [Schedule-To-Close Timeout](#schedule-to-close-timeout) <span id="i-8bd55e95-cb09-4bcd-8743-873560865277" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-8bd55e95-cb09-4bcd-8743-873560865277" class="preview-modal"><div class="modal-header"><div id="x-8bd55e95-cb09-4bcd-8743-873560865277" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Schedule-To-Close Timeout?</div><div class="preview-modal-description">A Schedule-To-Close Timeout is the maximum amount of time allowed for the overall Activity Execution, from when the first Activity Task is scheduled to when the last Activity Task, in the chain of Activity Tasks that make up the Activity Execution, reaches a Closed status.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span> <span class="preview-modal-tag">timeouts</span></div></div> set.
We recommend always setting this timeout; however, make sure that Start-To-Close Timeout is always set to be longer than the maximum possible time for the Activity Execution to complete.
For long running Activity Executions, we recommend also using [Activity Heartbeats](#activity-heartbeat) <span id="i-ea4abf8f-d1b5-4678-8df2-70ddf4d1a166" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-ea4abf8f-d1b5-4678-8df2-70ddf4d1a166" class="preview-modal"><div class="modal-header"><div id="x-ea4abf8f-d1b5-4678-8df2-70ddf4d1a166" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Heartbeat?</div><div class="preview-modal-description">An Activity Heartbeat is a ping from the Worker that is executing the Activity to the Temporal Cluster. Each ping informs the Temporal Cluster that the Activity Execution is making progress and the Worker has not crashed.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> and [Heartbeat Timeouts](#heartbeat-timeout) <span id="i-787860b9-2e08-45d8-80c1-67830f1c8a48" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-787860b9-2e08-45d8-80c1-67830f1c8a48" class="preview-modal"><div class="modal-header"><div id="x-787860b9-2e08-45d8-80c1-67830f1c8a48" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Heartbeat Timeout?</div><div class="preview-modal-description">A Heartbeat Timeout is the maximum time between Activity Heartbeats.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span> <span class="preview-modal-tag">timeouts</span></div></div>.

:::tip

We strongly recommend setting a Start-To-Close Timeout.

The Temporal Server doesn't detect failures when a Worker loses communication with the Server or crashes.
Therefore, the Temporal Server relies on the Start-To-Close Timeout to force Activity retries.

:::

The main use case for the Start-To-Close timeout is to detect when a Worker crashes after it has started executing an Activity Task.

<div class="tdiw"><div class="tditw"><p class="tdit">Start-To-Close Timeout period</p></div><div class="tdiiw"><img class="img_ev3q" src="/diagrams/start-to-close-timeout.svg" alt="Start-To-Close Timeout period" height="666" width="1119" /></div></div>

A [Retry Policy](/retry-policies#) <span id="i-0783454a-fa4c-4f1e-8aa6-a9f12090fea4" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-0783454a-fa4c-4f1e-8aa6-a9f12090fea4" class="preview-modal"><div class="modal-header"><div id="x-0783454a-fa4c-4f1e-8aa6-a9f12090fea4" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Retry Policy?</div><div class="preview-modal-description">A Retry Policy is a collection of attributes that instructs the Temporal Server how to retry a failure of a Workflow Execution or an Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> attached to an Activity Execution retries an Activity Task Execution.
Thus, the Start-To-Close Timeout is applied to each Activity Task Execution within an Activity Execution.

If the first Activity Task Execution returns an error the first time, then the full Activity Execution might look like this:

<div class="tdiw"><div class="tditw"><p class="tdit">Start-To-Close Timeout period with retries</p></div><div class="tdiiw"><img class="img_ev3q" src="/diagrams/start-to-close-timeout-with-retry.svg" alt="Start-To-Close Timeout period with retries" height="1246" width="1601" /></div></div>

If this timeout is reached, the following actions occur:

- An [ActivityTaskTimedOut](/references/events/#activitytasktimedout) Event is written to the Workflow Execution's mutable state.
- If a Retry Policy dictates a retry, the Temporal Cluster schedules another Activity Task.
  - The attempt count increments by 1 in the Workflow Execution's mutable state.
  - The Start-To-Close Timeout timer is reset.

### What is a Schedule-To-Close Timeout? {#schedule-to-close-timeout}

A Schedule-To-Close Timeout is the maximum amount of time allowed for the overall [Activity Execution](#activity-execution) <span id="i-66186ead-89c9-4429-9512-1cfd4d7c7723" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-66186ead-89c9-4429-9512-1cfd4d7c7723" class="preview-modal"><div class="modal-header"><div id="x-66186ead-89c9-4429-9512-1cfd4d7c7723" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Execution?</div><div class="preview-modal-description">An Activity Execution is the full chain of Activity Task Executions.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>, from when the first [Activity Task](/workers#activity-task) <span id="i-0b3568da-6a26-424c-abae-6fc6ca0ec1ac" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-0b3568da-6a26-424c-abae-6fc6ca0ec1ac" class="preview-modal"><div class="modal-header"><div id="x-0b3568da-6a26-424c-abae-6fc6ca0ec1ac" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Task?</div><div class="preview-modal-description">An Activity Task contains the context needed to make an Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> is scheduled to when the last Activity Task, in the chain of Activity Tasks that make up the Activity Execution, reaches a Closed status.

- [How to set a Schedule-To-Close Timeout using the Go SDK](/dev-guide/go/features#activity-timeouts) <span id="i-59d15b9f-c9fb-4ad1-9e8e-fb254a108061" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-59d15b9f-c9fb-4ad1-9e8e-fb254a108061" class="preview-modal"><div class="modal-header"><div id="x-59d15b9f-c9fb-4ad1-9e8e-fb254a108061" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">developer-guide-doc-type</span> <span class="preview-modal-tag">retry-and-timeout-policies</span> <span class="preview-modal-tag">activity-execution</span> <span class="preview-modal-tag">activity</span> <span class="preview-modal-tag">timeouts</span></div></div>
- [How to set a Schedule-To-Close Timeout using the Java SDK](/dev-guide/java/features#activity-timeouts) <span id="i-d76a447a-d445-4788-98a9-3a9c5c5e05ba" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-d76a447a-d445-4788-98a9-3a9c5c5e05ba" class="preview-modal"><div class="modal-header"><div id="x-d76a447a-d445-4788-98a9-3a9c5c5e05ba" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Schedule-To-Close Timeout using the PHP SDK](/dev-guide/go/features#activity-timeouts) <span id="i-d348e72d-0584-40d4-9ed9-de54581d6c69" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-d348e72d-0584-40d4-9ed9-de54581d6c69" class="preview-modal"><div class="modal-header"><div id="x-d348e72d-0584-40d4-9ed9-de54581d6c69" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">developer-guide-doc-type</span> <span class="preview-modal-tag">retry-and-timeout-policies</span> <span class="preview-modal-tag">activity-execution</span> <span class="preview-modal-tag">activity</span> <span class="preview-modal-tag">timeouts</span></div></div>
- [How to set a Schedule-To-Close Timeout using the Python SDK](/dev-guide/go/features#activity-timeouts) <span id="i-7f78de04-7585-424e-8067-7086fa71abf8" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-7f78de04-7585-424e-8067-7086fa71abf8" class="preview-modal"><div class="modal-header"><div id="x-7f78de04-7585-424e-8067-7086fa71abf8" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">developer-guide-doc-type</span> <span class="preview-modal-tag">retry-and-timeout-policies</span> <span class="preview-modal-tag">activity-execution</span> <span class="preview-modal-tag">activity</span> <span class="preview-modal-tag">timeouts</span></div></div>
- [How to set a Schedule-To-Close Timeout using the TypeScript SDK](/dev-guide/typescript/features#activity-timeouts) <span id="i-6eec5ac3-a0fd-46fa-a4fb-e7e72e3335f6" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-6eec5ac3-a0fd-46fa-a4fb-e7e72e3335f6" class="preview-modal"><div class="modal-header"><div id="x-6eec5ac3-a0fd-46fa-a4fb-e7e72e3335f6" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set Activity timeouts</div><div class="preview-modal-description">Each Activity timeout controls the maximum duration of a different aspect of an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>

<div class="tdiw"><div class="tditw"><p class="tdit">Schedule-To-Close Timeout period</p></div><div class="tdiiw"><img class="img_ev3q" src="/diagrams/schedule-to-close-timeout.svg" alt="Schedule-To-Close Timeout period" height="666" width="1120" /></div></div>

Example Schedule-To-Close Timeout period for an Activity Execution that has a chain Activity Task Executions:

<div class="tdiw"><div class="tditw"><p class="tdit">Schedule-To-Close Timeout period with a retry</p></div><div class="tdiiw"><img class="img_ev3q" src="/diagrams/schedule-to-close-timeout-with-retry.svg" alt="Schedule-To-Close Timeout period with a retry" height="1246" width="1540" /></div></div>

**The default Schedule-To-Close Timeout is âˆž (infinity).**

An Activity Execution must have either this timeout (Schedule-To-Close) or [Start-To-Close](#start-to-close-timeout) <span id="i-21e9275a-5d86-417e-95c6-5933b197826d" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-21e9275a-5d86-417e-95c6-5933b197826d" class="preview-modal"><div class="modal-header"><div id="x-21e9275a-5d86-417e-95c6-5933b197826d" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Start-To-Close Timeout?</div><div class="preview-modal-description">A Start-To-Close Timeout is the maximum time allowed for a single Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span> <span class="preview-modal-tag">timeouts</span></div></div> set.
By default, an Activity Execution Retry Policy dictates that retries occur for up to 10 years.
This timeout can be used to control the overall duration of an Activity Execution in the face of failures (repeated Activity Task Executions), without altering the Maximum Attempts field of the Retry Policy.

:::tip

We strongly recommend setting a Start-To-Close Timeout.

The Temporal Server doesn't detect failures when a Worker loses communication with the Server or crashes.
Therefore, the Temporal Server relies on the Start-To-Close Timeout to force Activity retries.

:::

### What is an Activity Heartbeat? {#activity-heartbeat}

An Activity Heartbeat is a ping from the Worker that is executing the Activity to the Temporal Cluster.
Each ping informs the Temporal Cluster that the Activity Execution is making progress and the Worker has not crashed.

- [How to Heartbeat an Activity using the Go SDK](/dev-guide/go/features#activity-heartbeats) <span id="i-e7295f87-fd55-428f-aeba-fc3b11eabd83" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-e7295f87-fd55-428f-aeba-fc3b11eabd83" class="preview-modal"><div class="modal-header"><div id="x-e7295f87-fd55-428f-aeba-fc3b11eabd83" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to Heartbeat an Activity</div><div class="preview-modal-description">An Activity Heartbeat is a ping from the Worker that is executing the Activity to the Temporal Cluster.</div><div class="preview-modal-tags"><span class="preview-modal-tag">activity</span> <span class="preview-modal-tag">heartbeat</span> <span class="preview-modal-tag">how-to-doc-type</span> <span class="preview-modal-tag">go sdk</span></div></div>
- [How to Heartbeat an Activity using the Java SDK](/dev-guide/java/features#activity-heartbeats) <span id="i-0211a1b5-a839-48d9-bff6-fe8df377176d" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-0211a1b5-a839-48d9-bff6-fe8df377176d" class="preview-modal"><div class="modal-header"><div id="x-0211a1b5-a839-48d9-bff6-fe8df377176d" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to Heartbeat an Activity</div><div class="preview-modal-description">An Activity Heartbeat is a ping from the Worker that is executing the Activity to the Temporal Cluster.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to Heartbeat an Activity using the PHP SDK](/dev-guide/php/features#activity-heartbeats) <span id="i-6dce0a89-8760-4d9b-bd01-9b1c53920590" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-6dce0a89-8760-4d9b-bd01-9b1c53920590" class="preview-modal"><div class="modal-header"><div id="x-6dce0a89-8760-4d9b-bd01-9b1c53920590" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to Heartbeat an Activity</div><div class="preview-modal-description">An Activity Heartbeat is a ping from the Worker that is executing the Activity to the Temporal Cluster.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to Heartbeat an Activity using the Python SDK](/dev-guide/python/features#activity-heartbeats) <span id="i-e4f65d8c-98ea-4296-8c28-78e4e483881b" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-e4f65d8c-98ea-4296-8c28-78e4e483881b" class="preview-modal"><div class="modal-header"><div id="x-e4f65d8c-98ea-4296-8c28-78e4e483881b" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to Heartbeat an Activity</div><div class="preview-modal-description">An Activity Heartbeat is a ping from the Worker that is executing the Activity to the Temporal Cluster.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to Heartbeat an Activity using the TypeScript SDK](/dev-guide/typescript/features#activity-heartbeats) <span id="i-04babea2-b0d5-45ab-9340-b65582a82681" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-04babea2-b0d5-45ab-9340-b65582a82681" class="preview-modal"><div class="modal-header"><div id="x-04babea2-b0d5-45ab-9340-b65582a82681" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to Heartbeat an Activity</div><div class="preview-modal-description">An Activity Heartbeat is a ping from the Worker that is executing the Activity to the Temporal Cluster.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>

Activity Heartbeats work in conjunction with a [Heartbeat Timeout](#heartbeat-timeout) <span id="i-96559429-645e-4006-9ab3-75b564ee4ce4" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-96559429-645e-4006-9ab3-75b564ee4ce4" class="preview-modal"><div class="modal-header"><div id="x-96559429-645e-4006-9ab3-75b564ee4ce4" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Heartbeat Timeout?</div><div class="preview-modal-description">A Heartbeat Timeout is the maximum time between Activity Heartbeats.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span> <span class="preview-modal-tag">timeouts</span></div></div>.

Activity Heartbeats are implemented within the Activity Definition.
Custom progress information can be included in the Heartbeat which can then be used by the Activity Execution should a retry occur.

An Activity Heartbeat can be recorded as often as needed (e.g. once a minute or every loop iteration).
It is often a good practice to Heartbeat on anything but the shortest Activity Function Execution.
Temporal SDKs control the rate at which Heartbeats are sent to the Cluster.

Heartbeating is not required from [Local Activities](#local-activity) <span id="i-57412f64-fa17-4572-8faf-601b1fb81b96" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-57412f64-fa17-4572-8faf-601b1fb81b96" class="preview-modal"><div class="modal-header"><div id="x-57412f64-fa17-4572-8faf-601b1fb81b96" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Local Activity?</div><div class="preview-modal-description">A Local Activity is an Activity Execution that executes in the same process as the Workflow Execution that spawns it.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>, and does nothing.

For _long-running_ Activities, we recommend using a relatively short Heartbeat Timeout and a frequent Heartbeat.
That way if a Worker fails it can be handled in a timely manner.

A Heartbeat can include an application layer payload that can be used to _save_ Activity Execution progress.
If an [Activity Task Execution](/workers#activity-task-execution) <span id="i-0f354028-0183-412c-893e-f053dd109763" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-0f354028-0183-412c-893e-f053dd109763" class="preview-modal"><div class="modal-header"><div id="x-0f354028-0183-412c-893e-f053dd109763" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Task Execution?</div><div class="preview-modal-description">An Activity Task Execution occurs when a Worker uses the context provided from the Activity Task and executes the Activity Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> times out due to a missed Heartbeat, the next Activity Task can access and continue with that payload.

Activity Cancellations are delivered to Activities from the Cluster when they Heartbeat. Activities that don't Heartbeat can't receive a Cancellation.
Heartbeat throttling may lead to Cancellation getting delivered later than expected.

#### Throttling

Heartbeats may not always be sent to the Clusterâ€”they may be throttled by the Worker.
The throttle interval is the smaller of the following:

- If `heartbeatTimeout` is provided, `heartbeatTimeout * 0.8`; otherwise, `defaultHeartbeatThrottleInterval`
- `maxHeartbeatThrottleInterval`

`defaultHeartbeatThrottleInterval` is 30 seconds by default, and `maxHeartbeatThrottleInterval` is 60 seconds by default.
Each can be set in Worker options.

Throttling is implemented as follows:

- After sending a Heartbeat, the Worker sets a timer for the throttle interval.
- The Worker stops sending Heartbeats, but continues receiving Heartbeats from the Activity and remembers the most recent one.
- When the timer fires, the Worker:
  - Sends the most recent Heartbeat.
  - Sets the timer again.

#### Which Activities should Heartbeat?

Heartbeating is best thought about not in terms of time, but in terms of "How do you know you are making progress?"
For short-term operations, progress updates are not a requirement.
However, checking the progress and status of Activity Executions that run over long periods is almost always useful.

Consider the following when setting Activity Hearbeats:

- Your underlying task must be able to report definite progress.
  Note that your Workflow cannot read this progress information while the Activity is still executing (or it would have to store it in Event History).
  You can report progress to external sources if you need it exposed to the user.

- Your Activity Execution is long-running, and you need to verify whether the Worker that is processing your Activity is still alive and has not run out of memory or silently crashed.

For example, the following scenarios are suitable for Heartbeating:

- Reading a large file from Amazon S3.
- Running a ML training job on some local GPUs.

And the following scenarios are not suitable for Heartbeating:

- Making a quick API call.
- Reading a small file from disk.

### What is a Heartbeat Timeout? {#heartbeat-timeout}

A Heartbeat Timeout is the maximum time between [Activity Heartbeats](#activity-heartbeat) <span id="i-65c91e49-f89d-443e-9376-5059f5d9956f" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-65c91e49-f89d-443e-9376-5059f5d9956f" class="preview-modal"><div class="modal-header"><div id="x-65c91e49-f89d-443e-9376-5059f5d9956f" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Heartbeat?</div><div class="preview-modal-description">An Activity Heartbeat is a ping from the Worker that is executing the Activity to the Temporal Cluster. Each ping informs the Temporal Cluster that the Activity Execution is making progress and the Worker has not crashed.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.

- [How to set a Heartbeat Timeout using the Go SDK](/dev-guide/go/features#heartbeat-timeout) <span id="i-e16808a6-f43f-4ea7-985d-7077c49c740e" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-e16808a6-f43f-4ea7-985d-7077c49c740e" class="preview-modal"><div class="modal-header"><div id="x-e16808a6-f43f-4ea7-985d-7077c49c740e" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set a Heartbeat Timeout</div><div class="preview-modal-description">A Heartbeat Timeout works in conjunction with Activity Heartbeats.</div><div class="preview-modal-tags"><span class="preview-modal-tag">developer-guide-doc-type</span> <span class="preview-modal-tag">activity</span> <span class="preview-modal-tag">heartbeat</span> <span class="preview-modal-tag">timeouts</span></div></div>
- [How to set a Heartbeat Timeout using the Java SDK](/dev-guide/java/features#heartbeat-timeout) <span id="i-ae5e98b0-9a0b-4b45-b8fa-b0f4f275d6f6" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-ae5e98b0-9a0b-4b45-b8fa-b0f4f275d6f6" class="preview-modal"><div class="modal-header"><div id="x-ae5e98b0-9a0b-4b45-b8fa-b0f4f275d6f6" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set a Heartbeat Timeout</div><div class="preview-modal-description">A Heartbeat Timeout works in conjunction with Activity Heartbeats.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Heartbeat Timeout using the PHP SDK](/dev-guide/php/features#heartbeat-timeout) <span id="i-f2e00704-23fa-4fab-89ad-f849d6892d78" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-f2e00704-23fa-4fab-89ad-f849d6892d78" class="preview-modal"><div class="modal-header"><div id="x-f2e00704-23fa-4fab-89ad-f849d6892d78" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set a Heartbeat Timeout</div><div class="preview-modal-description">A Heartbeat Timeout works in conjunction with Activity Heartbeats.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Heartbeat Timeout using the Python SDK](/dev-guide/python/features#heartbeat-timeout) <span id="i-f2acb3a6-aeef-4583-a59f-6273863421a7" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-f2acb3a6-aeef-4583-a59f-6273863421a7" class="preview-modal"><div class="modal-header"><div id="x-f2acb3a6-aeef-4583-a59f-6273863421a7" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set a Heartbeat Timeout</div><div class="preview-modal-description">A Heartbeat Timeout works in conjunction with Activity Heartbeats.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>
- [How to set a Heartbeat Timeout using the TypeScript SDK](/dev-guide/typescript/features#heartbeat-timeout) <span id="i-9206d5dc-930d-4f62-a1e7-e8c3b0b72054" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-9206d5dc-930d-4f62-a1e7-e8c3b0b72054" class="preview-modal"><div class="modal-header"><div id="x-9206d5dc-930d-4f62-a1e7-e8c3b0b72054" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">How to set a Heartbeat Timeout</div><div class="preview-modal-description">A Heartbeat Timeout works in conjunction with Activity Heartbeats.</div><div class="preview-modal-tags"><span class="preview-modal-tag">guide-context</span></div></div>

<div class="tdiw"><div class="tditw"><p class="tdit">Heartbeat Timeout periods</p></div><div class="tdiiw"><img class="img_ev3q" src="/diagrams/heartbeat-timeout.svg" alt="Heartbeat Timeout periods" height="866" width="1140" /></div></div>

If this timeout is reached, the Activity Task fails and a retry occurs if a [Retry Policy](/retry-policies#) <span id="i-2c9ed35f-2c72-40ac-9e57-ad4527583f42" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-2c9ed35f-2c72-40ac-9e57-ad4527583f42" class="preview-modal"><div class="modal-header"><div id="x-2c9ed35f-2c72-40ac-9e57-ad4527583f42" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Retry Policy?</div><div class="preview-modal-description">A Retry Policy is a collection of attributes that instructs the Temporal Server how to retry a failure of a Workflow Execution or an Activity Task Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> dictates it.

### What is Asynchronous Activity Completion? {#asynchronous-activity-completion}

Asynchronous Activity Completion is a feature that enables an Activity Function to return without causing the Activity Execution to complete.
The Temporal Client can then be used from anywhere to both Heartbeat Activity Execution progress and eventually provide complete the Activity Execution and provide a result.

How to complete an Activity Asynchronously in:

- [Go](/dev-guide/go/features#asynchronous-activity-completion)
- [Java](/dev-guide/java/features#asynchronous-activity-completion)
- [PHP](/dev-guide/php/features#asynchronous-activity-completion)
- [Python](/dev-guide/python/features#asynchronous-activity-completion)
- [TypeScript](/dev-guide/typescript/features#asynchronous-activity-completion)

#### When to use Async Completion

When an external system has the final result of a computation that is started by an Activity, there are three main ways of getting the result to the Workflow:

1. The external system uses Async Completion to complete the Activity with the result.
2. The Activity completes normally, without the result. Later, the external system sends a Signal to the Workflow with the result.
3. A subsequent Activity [polls the external system](https://community.temporal.io/t/what-is-the-best-practice-for-a-polling-activity/328/2) for the result.

If you don't have control over the external systemâ€”that is, you can't add Async Completion or a Signal to its codeâ€”then

- you can poll (#3), or
- if the external system can reliably call a webhook (and retry calling in the case of failure), you can write a webhook handler that sends a Signal to the Workflow (#2).

The decision between using #1 vs #2 involves a few factors.
Use Async Completion if

- the external system is unreliable and might fail to Signal, or
- you want the external process to Heartbeat or receive Cancellation.

Otherwise, if the external system can reliably be trusted to do the task and Signal back with the result, and it doesn't need to Heartbeat or receive Cancellation, then you may want to use Signals.

The benefit to using Signals has to do with the timing of failure retries.
For example, consider an external process that is waiting for a human to review something and respond, and they could take up to a week to do so.
If you use Async Completion (#1), you would

- set a [Start-To-Close Timeout](/activities#start-to-close-timeout) of one week on the Activity,
- in the Activity, notify the external process you need the human review, and
- have the external process Asynchronously Complete the Activity when the human responds.

If the Activity fails on the second step to notify the external system and doesn't throw an error (for example, if the Worker dies), then the Activity won't be retried for a week, when the Start-To-Close Timeout is hit.

If you use Signals, you would:

- set a [Start-To-Close Timeout](/activities#start-to-close-timeout) of one minute on the Activity,
- in the Activity, notify the external process you need the human review,
- complete the Activity without the result, and
- have the external process Signal the Workflow when the human responds.

If the Activity fails on the second step to notify the external system and doesn't throw an error, then the Activity will be retried in a minute.

In the second scenario, the failure is retried sooner. This is particularly helpful in scenarios like this in which the external process might take a long time.

#### What is a Task Token? {#task-token}

A Task Token is a unique identifier for an [Activity Task Execution](/workers#activity-task-execution) <span id="i-b28d68ee-96ee-4b6b-89c9-4164d9d09617" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-b28d68ee-96ee-4b6b-89c9-4164d9d09617" class="preview-modal"><div class="modal-header"><div id="x-b28d68ee-96ee-4b6b-89c9-4164d9d09617" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Task Execution?</div><div class="preview-modal-description">An Activity Task Execution occurs when a Worker uses the context provided from the Activity Task and executes the Activity Definition.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.

[Asynchronous Activity Completion](#asynchronous-activity-completion) <span id="i-4cd4a8c6-9189-479f-96f7-7b890427c442" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-4cd4a8c6-9189-479f-96f7-7b890427c442" class="preview-modal"><div class="modal-header"><div id="x-4cd4a8c6-9189-479f-96f7-7b890427c442" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is Asynchronous Activity Completion?</div><div class="preview-modal-description">Asynchronous Activity Completion occurs when an external system provides the final result of a computation, started by an Activity, to the Temporal System.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> calls take either of the following as arguments:

- a Task Token, or
- an [Activity Id](#activity-id) <span id="i-213d2514-7b5a-4a28-b646-1ff0eb15e02d" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-213d2514-7b5a-4a28-b646-1ff0eb15e02d" class="preview-modal"><div class="modal-header"><div id="x-213d2514-7b5a-4a28-b646-1ff0eb15e02d" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Id?</div><div class="preview-modal-description">A unique identifier for an Activity Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>, a [Workflow Id](/workflows#workflow-id) <span id="i-c52f64d9-7397-4b20-be83-838873ffa95b" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-c52f64d9-7397-4b20-be83-838873ffa95b" class="preview-modal"><div class="modal-header"><div id="x-c52f64d9-7397-4b20-be83-838873ffa95b" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Workflow Id?</div><div class="preview-modal-description">A Workflow Id is a customizable, application-level identifier for a Workflow Execution that is unique to an Open Workflow Execution within a Namespace.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>, and optionally a [Run Id](/workflows#run-id) <span id="i-f2cdd01b-7f82-4450-adfc-7cecf1b6e216" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-f2cdd01b-7f82-4450-adfc-7cecf1b6e216" class="preview-modal"><div class="modal-header"><div id="x-f2cdd01b-7f82-4450-adfc-7cecf1b6e216" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is a Run Id?</div><div class="preview-modal-description">A Run Id is a globally unique, platform-level identifier for a Workflow Execution.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div>.

## What is a Local Activity? {#local-activity}

A Local Activity is an [Activity Execution](#activity-execution) <span id="i-9fb0f6db-a4af-4139-b030-03688115f0d9" class="clickable-i clickable-link-preview">ðŸ”—</span><div id="preview-modal-9fb0f6db-a4af-4139-b030-03688115f0d9" class="preview-modal"><div class="modal-header"><div id="x-9fb0f6db-a4af-4139-b030-03688115f0d9" class="clickable-x clickable-link-preview">x</div><b>Link preview</b></div><div class="preview-modal-title">What is an Activity Execution?</div><div class="preview-modal-description">An Activity Execution is the full chain of Activity Task Executions.</div><div class="preview-modal-tags"><span class="preview-modal-tag">term</span> <span class="preview-modal-tag">explanation</span></div></div> that executes in the same process as the [Workflow Execution](/workflows#workflow-execution) that spawns it.

Some Activity Executions are very short-living and do not need the queuing semantic, flow control, rate limiting, and routing capabilities.
For this case, Temporal supports the Local Activity feature.

The main benefit of Local Activities is that they use less Temporal Cluster resources (for example, fewer History events) and have much lower latency overhead (because no need to roundtrip to the Cluster) compared to normal Activity Executions.
However, Local Activities are subject to shorter durations and a lack of rate limiting.

Consider using Local Activities for functions that are the following:

- can be implemented in the same binary as the Workflow that calls them.
- do not require global rate limiting.
- do not require routing to a specific Worker or Worker pool.
- no longer than a few seconds, inclusive of retries.

If it takes longer than 80% of the Workflow Task Timeout (which is 10 seconds by default), the Worker will ask the Cluster to create a new Workflow Task to extend the "lease" for processing the Local Activity.
The Worker will continue doing so until the Local Activity has completed.
This is called Workflow Task Heartbeating.
The drawbacks of long-running Local Activities are:

- Each new Workflow Task results in 3 more Events in History.
- The Workflow won't get notified of new events like Signals and completions until the next Workflow Task Heartbeat.
- New Commands created by the Workflow concurrently with the Local Activity will not be sent to the Cluster until either the Local Activity completes or the next Workflow Task Heartbeat.

Using a Local Activity without understanding its limitations can cause various production issues.
**We recommend using regular Activities unless your use case requires very high throughput and large Activity fan outs of very short-lived Activities.**
More guidance in choosing between [Local Activity vs Activity](https://community.temporal.io/t/local-activity-vs-activity/290/3) is available in our forums.
